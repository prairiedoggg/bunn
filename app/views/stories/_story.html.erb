<article id="<%= dom_id story %>" class="group rounded-3xl border border-slate-200 bg-white p-5 shadow-sm transition hover:shadow-md dark:border-slate-800 dark:bg-slate-950">
  <div class="flex items-start justify-between gap-3">
    <div class="min-w-0">
      <h2 class="truncate text-lg font-semibold tracking-tight text-slate-900 group-hover:underline dark:text-slate-100">
        <%= link_to story.title, story %>
      </h2>
      <p class="mt-1 text-sm text-slate-600 dark:text-slate-300">
        <span class="font-medium"><%= display_pen_name(story.pen_name) %></span>
        <span class="mx-1 text-slate-300 dark:text-slate-700">·</span>
        <span class="text-slate-500 dark:text-slate-400"><%= l(story.created_at, format: :short) %></span>
      </p>
    </div>

    <div class="shrink-0 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-1.5 text-xs font-semibold text-slate-700 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-200">
      합평 <span class="tabular-nums"><%= story.critiques_count %></span>
    </div>
  </div>

  <p class="mt-4 whitespace-pre-wrap break-words text-sm leading-relaxed text-slate-700 dark:text-slate-200">
    <%= excerpt(story.body) %>
  </p>

  <div class="mt-5 flex flex-wrap items-center gap-2">
    <%= link_to "읽기", story, class: "inline-flex items-center justify-center rounded-xl bg-slate-900 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-slate-800 active:bg-slate-950 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-100" %>
    <%= link_to "수정", edit_story_path(story), class: "inline-flex items-center justify-center rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900" %>
    <%= button_to "삭제", story, method: :delete, data: { turbo_confirm: "이 소설을 삭제할까요?" }, class: "inline-flex items-center justify-center rounded-xl border border-rose-200 bg-rose-50 px-3 py-2 text-sm font-semibold text-rose-700 shadow-sm hover:bg-rose-100 dark:border-rose-900/40 dark:bg-rose-950/40 dark:text-rose-100 dark:hover:bg-rose-950/60" %>
  </div>
</article>
